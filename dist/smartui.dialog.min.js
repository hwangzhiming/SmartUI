"use strict";!function(e,t){t.sui=t.sui||{},t.sui.modal=function(t){var s=e.extend({theme:"smart-ui-modal-default",type:"info",title:"Title",message:"Thanks for try SmartUI!",buttons:[]},t),n=e('<div class="smart-ui smart-ui-modal '+s.theme+'"/>'),a=e('<div class="smart-ui-modal-content"/>'),i=e('<div class="smart-ui-modal-sign '+s.type+'"><span></span></div>'),r=e('<div class="smart-ui-modal-close">CLOSE</div>'),o=e('<div class="smart-ui-modal-title">'+s.title+"</div>"),u=e('<div class="smart-ui-modal-placeholder"></div>');if(u.append(s.message),s.buttons&&s.buttons.length){for(var l=e('<div class="smart-ui-modal-buttons"></div>'),d=function(t){var a=s.buttons[t],i=e('<button class="smart-ui-modal-button '+a.type+'">'+a.text+"</button>");a.func&&i.on("click",function(){return a.func.apply(null,[n])}),l.append(i)},m=0;m<s.buttons.length;m++)d(m);u.append(l)}return a.append([i,r,o,u]),n.append(a).appendTo(e("body")),n.open=function(){n.addClass("opened")},n.close=function(){n.removeClass("opened"),setTimeout(function(){n.remove()},200)},r.on("click",n.close),setTimeout(n.open,0),n},t.sui.alert=function(t){"string"==typeof t&&(t={message:t});var s=void 0,n=e.extend({theme:"smart-ui-modal-default",type:"info",title:"Alert",message:"This is alert!",button:{type:"default",text:"OK"}},t);n.button.func=function(){s.close()};var a=e("<div></div>"),i=e("<p>"+n.message+"</p>");a.append([i]),s=this.modal({type:n.type,title:n.title,theme:n.theme,message:a,buttons:[n.button]})},t.sui.prompt=function(t){var s=jQuery.Deferred(),n=void 0,a=void 0,i=e.extend({theme:"smart-ui-modal-default",type:"question",title:"Prompt",message:"This is Prompt!",fieldType:"text",maxLength:null,required:!0,pattern:null,button:{type:"warning",text:"OK"}},t),r=function(e){var t=function(e,t){return e?a.addClass(t):a.removeClass(t),e};if(t(i.required&&!e,"sui-error sui-require"))return!1;if(i.pattern){var s=new RegExp(i.pattern,"ig");if(t(!s.test(e),"sui-error sui-pattern-error"))return!1}return!i.maxLength||!t(e.length>i.maxLength,"sui-error sui-max-length-error")};i.button.func=function(){var e=a.val();return r(e)?(s.resolve(e),void n.close()):void a.focus()};var o={type:"default",text:"Cancel",func:function(e){s.reject(),e.close()}},u=e("<div></div>"),l=e("<p>"+i.message+"</p>");return a=e('<input class="smart-ui-modal-form-field" type="'+i.fieldType+'" maxlength="'+i.maxLength+'"/>'),a.on("keyup",function(){var e=a.val();r(e)}),u.append([l,a]),n=this.modal({type:i.type,title:i.title,theme:i.theme,message:u,buttons:[o,i.button]}),s.promise()},t.sui.masterPassword=function(t){var s=jQuery.Deferred(),n=void 0,a=void 0,i=e.extend({theme:"smart-ui-modal-default",type:"question",title:"Master Password",message:"Please enter your master password!",fieldType:"password",maxLength:4,required:!0,button:{type:"warning",text:"OK"}},t);i.button.func=function(){var e=a.val();i.required&&!e||i.maxLength&&e.length<i.maxLength||(s.resolve(e),n.close())};var r=e("<div></div>"),o=e("<p>"+i.message+"</p>");return a=e('<input class="smart-ui-modal-form-field" autofocus="true" type="'+i.fieldType+'" maxlength="'+i.fieldMaxLength+'"/>'),r.append([o,a]),n=this.modal({type:i.type,title:i.title,theme:i.theme,message:r,buttons:[i.button]}),a.masterPassword(),s.promise()}}(jQuery,window);